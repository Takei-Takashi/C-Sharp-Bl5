@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
	List<Category> categories = ViewBag.Categories;
	List<Product> products = ViewBag.Products ?? new List<Product>();
}
<form asp-controller="Product" asp-action="List">
	<div style="display: inline-block;">
		<h5>Category: </h5>
		<select name="cateId" style="margin-bottom:10px; margin-top:10px">
			@foreach (var cate in categories)
			{
				<option value="@cate.CategoryId">@cate.CategoryName</option>
			}
		</select>
	</div>

	<h5>Discontinued: </h5>
	<input type="radio" name="discontinued" value="2" style="margin-bottom:10px; margin-top:10px">True/False</><br/>
	<input type="radio" name="discontinued" value="0" style="margin-bottom:10px; margin-top:10px">True</><br/>
	<input type="radio" name="discontinued" value="1" style="margin-bottom:10px; margin-top:10px">False</><br/>
	<button class="btn btn-success" type="submit">Filter</button>
</form>
<h3 style="margin-bottom:10px; margin-top:10px">List of Product:</h3>
<table class="table" style="margin-bottom:10px; margin-top:10px">
	<thead>
		<tr>
			<th scope="col">#</th>
			<th scope="col">Name</th>
			<th scope="col">Category Name</th>
			<th scope="col">Supplier Name</th>
			<th scope="col">Price</th>
			<th scope="col">Unit in Stock</th>
			<th scope="col">Discontinued</th>
		</tr>
	</thead>
	<tbody>
		@foreach(var pro in products)
		{
			<tr>
				<th scope="row">@pro.ProductId</th>
				<td>@pro.ProductName</td>
				<td>@(pro.Category != null ? pro.Category.CategoryName : "")</td>
				<td>@(pro.Supplier != null ? pro.Supplier.CompanyName : "")</td>
				<td>@pro.UnitPrice</td>
				<td>@pro.UnitsInStock</td>
				<td>@pro.Discontinued</td>
			</tr>
		}
	</tbody>
</table>